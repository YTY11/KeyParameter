<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">

    <title>AVI设备运行</title>
    <link th:href="@{/layui/css/layui.mobile.css}" href="../static/layui/css/layui.mobile.css" rel="stylesheet"/>
    <link th:href="@{/css/AVI2.css}" href="../static/css/AVI2.css" rel="stylesheet"/>
    <script>
        window.onload = function () {
            /*375代表设计师给的设计稿的宽度，你的设计稿是多少，就写多少;
            100代表换算比例，这里写100是为了以后好算,
            比如，你测量的一个宽度是100px,就可以写为1rem,以及1px=0.01rem等等*/
            getRem(768, 100)
        };
        window.onresize = function () {
            getRem(768, 100)
        };

        function getRem(pwidth, prem) {
            var html = document.getElementsByTagName("html")[0];
            var oWidth = document.body.clientWidth || document.documentElement.clientWidth;
            html.style.fontSize = oWidth / pwidth * prem + "px";
        }
    </script>
</head>
<body>


<div class="app">
    <!--    内容-->
    <div class="content">
        <!--        头部-->
        <div class="aDiv">
            <div class="seek">
                <div class="select" data-v-170a700c="" data-v-6e7c9527="">
                    <input type="text" class="select-input" id="select-input1" readonly="" placeholder="区域"
                           data-v-170a700c="">
                    <ul class="floor-list" id="floor-list1" data-v-170a700c="" style="display: none;">

                    </ul>

                    <input type="text" class="select-input" id="select-input2" readonly="" placeholder="楼层"
                    >
                    <ul class="line-list" id="floor-list2" data-v-170a700c="" style="display: none;">

                    </ul>

                    <input type="text" class="select-input" id="select-input3" readonly="" placeholder="线体"
                           data-v-170a700c="">
                    <ul class="line-list2" id="floor-list3" data-v-170a700c="" style="display: none;">

                    </ul>

                    <a style="display: flex;width: 0.2rem;height: 0.2rem;margin-left: 0.24rem;">
                        <img style="" th:src="@{/img/chaxun.png}" src="../static/img/chaxun.png">
                    </a>
                </div>
            </div>
            <a class="a1" th:href="@{}" href="AVI.html">电子看板</a>
            <a class="a2" >设备健康管理</a>
        </div>

        <!--        主体-->
        <div class="theme" >
            <div class="theme1">
                <div class="teme1Top">
                    <p>AVI机故率</p>
                </div>
                <div class="teme1Content">
                    <div style="width: 100%;height: 100%;text-align: center;align-self: center" id="aviJiGu"></div>

                </div>
                <div class="teme1Top">
                    <p>设备机故率</p>
                </div>
                <div class="teme1ContentButtom">
                    <div style="width: 100%;height: 3.43rem;padding-top: 0.08rem">
                        <div style="width: 100%;height: 3.34rem;overflow: auto">
                            <table class="table1">
                                <thead>
                                <tr>
                                    <td class="louCeng">楼层</td>
                                    <td class="xianTi">线体</td>
                                    <td class="sheBei">设备名称</td>
                                    <td class="xiangMu">项目</td>
                                    <td class="tableTime">TTL</td>
                                    <td class="tableTime">08:30</td>
                                    <td class="tableTime">09:30</td>
                                    <td class="tableTime">10:30</td>
                                    <td class="tableTime">11:30</td>
                                    <td class="tableTime">12:30</td>
                                    <td class="tableTime">13:30</td>
                                    <td class="tableTime">14:30</td>
                                    <td class="tableTime">15:30</td>
                                    <td class="tableTime">16:30</td>
                                    <td class="tableTime">17:30</td>
                                    <td class="tableTime">18:30</td>
                                    <td class="tableTime">19:30</td>
                                </tr>
                                </thead>
                                <tbody >

                                </tbody>

                            </table>

                        </div>

                    </div>
                </div>
            </div>

        </div>

    </div>



</div>


</body>

<script th:src="@{/js/jquery-3.5.1.min.js}" src="../static/js/jquery-3.5.1.min.js"></script>
<script th:src="@{/js/echarts.js}" src="../static/js/echarts.js"></script>
<script th:src="@{/js/AVI2.js}" src="../static/js/AVI2.js"></script>
<script>
    //移动端active无反应
    document.body.addEventListener('touchstart',function(){},false)

    var floor = ["A","B","D"];

    var line = ["A1","B1","D1"];
    var line2 = ["A2","B2","D2"];

    floor = floor.sort();

    // 区域选择后隐藏
    $(document).ready(function(){
        var area;
        $("#select-input1").click(function(){
            $("#floor-list1 li").remove();
            for(var i = 0; i < floor.length; i++){
                $("#floor-list1").append("<li data-v-170a700c=''><span style='align-self: center;padding-left: 0.07rem;'>"+floor[i]+"</span></li>");
            }
            $("#floor-list1").show();
            $("#floor-list1 li").click(function(){
                area = $(this).text();

                $("#floor-list2 li").remove();
                $("#select-input2").val("楼层");
                // $("#floor-list2").append("<li data-v-170a700c=''>ALL</li>");
                for (var i = 0; i < line.length; i++) {
                    if (area == line[i].substr(0, 1)) {
                        $("#floor-list2").append("<li data-v-170a700c=''><span style='align-self: center;padding-left: 0.07rem;'>"+line[i]+"</span></li>");

                    }
                }
                $("#select-input1").val(area);
                $("#floor-list1").hide();
            });
        });
        // 点击页面其他元素时ul隐藏
        $(document).click(function (){
            if($("#select-input1").is(":focus")){
                $("#floor-list1").show();
            }else{
                $("#floor-list1").hide();
            }
        });


    });

    // 楼层选择后隐藏
    $(document).ready(function(){
        var liValue1;
        $("#select-input2").focus(function(){

            $("#floor-list2").show();
            $("#floor-list2 li").click(function(){
                liValue1 = $(this).text();
                $("#floor-list3 li").remove();
                $("#select-input3").val("线体");
                for (var i = 0; i < line2.length; i++) {
                    if (liValue1.substr(0, 1) == line2[i].substr(0, 1)) {
                        $("#floor-list3").append("<li data-v-170a700c=''><span style='align-self: center;padding-left: 0.07rem;'>"+line2[i]+"</span></li>");

                    }
                }
                $("#select-input2").val(liValue1);
                $("#floor-list2").hide();
            });
        });
        // 点击页面其他元素时ul隐藏
        $(document).click(function (){
            if($("#select-input2").is(":focus")){
                $("#floor-list2").show();
            }else{
                $("#floor-list2").hide();
            }
        });
    });

    // 线体选择后隐藏
    $(document).ready(function(){
        var liValue1;
        $("#select-input3").focus(function(){

            $("#floor-list3").show();
            $("#floor-list3 li").click(function(){
                liValue1 = $(this).text();
                $("#select-input3").val(liValue1);
                $("#floor-list3").hide();
            });
        });
        // 点击页面其他元素时ul隐藏
        $(document).click(function (){
            if($("#select-input3").is(":focus")){
                $("#floor-list3").show();
            }else{
                $("#floor-list3").hide();
            }
        });
    });


</script>


<script>
    (function () {

        aviJiGu();

    })();

    function aviJiGu(){
        var chartDom = document.getElementById('aviJiGu');
        var myChart = echarts.init(chartDom);
        var option = {
            legend: {
                data:[
                    {
                        name:'目标',
                        icon:'image://../static/img/xuXian.png',
                        itemHeight:5,
                    },
                    {
                        name:'白光',
                        icon:'line',

                    },
                    {
                        name:'荧光',
                        icon:'line',

                    },
                    {
                        name:'其他',
                        icon:'line',

                    }
                ],
                // icon:'line',
                padding:[15,0,0,0],
                right:'30',
                // itemWidth:25,
                // data:['目标','白光','荧光','其他'],
                // itemHeight:13,
                // itemGap:25,
                show: true,
                textStyle:{
                    type: 'dashed',
                    color:'rgba(0,0,0,0.85)',
                    fontFamily: 'PingFangSC-Regular',
                    fontSize: 12,
                    letterSpacing: -0.02,
                }
            },
            tooltip: {
                trigger: 'item',
                formatter: '{c}%',
            },
            grid: {
                top:'25%',//距上边距
                left:'2%',//距离左边距
                right:'2%',//距离右边距
                bottom:'5%',//距离下边距
                containLabel:true
            },
            toolbox: {
                show: true,
                feature: {
                    mark: {show: true},
                }
            },
            xAxis: {
                axisTick: {
                    show: false
                },
                type: 'category',
                data:[12,45,25],
                axisLabel:{
                    show:true,
                    interval:0,
                    textStyle:{
                        color:'rgba(0,0,0,0.85)',
                        fontFamily: 'PingFangSC-Regular',
                        fontSize: 12,
                        letterSpacing: 0.06,
                    },
                },

            },
            yAxis:  [
                {
                    type : 'value',
                    splitLine:{
                        show:false,
                    },
                    axisLabel:{
                        show:true,
                        formatter:'{value}%',
                        textStyle:{
                            color:'rgba(0,0,0,0.85)',
                            fontFamily: 'PingFangSC-Regular',
                            fontSize: 12,
                            letterSpacing: 0.06,
                        },
                        fontSize:10,
                    }

                }
            ],
            color:['#60AA13','#0091FF','#FA6400','#8064A2'],
            series:[
                {
                    name:'目标',
                    smooth:false,
                    type: 'line',
                    data:[5,5,5],
                    symbol: 'none', //折线点设置为实心点
                    itemStyle:{
                        normal:{
                            lineStyle: {
                                width: 3,
                                type: 'dotted',  //'dotted'虚线 'solid'实线
                                color: '#60AA13',


                            },
                            label:{
                                show: false,//开启显示
                                formatter:'{c}%',
                                textStyle: {
                                    color:'rgba(0,0,0,0.85)',
                                    fontFamily: 'PingFangSC-Regular',
                                    fontSize: 10,
                                }
                            },

                            // color:'',
                            // borderWidth:1,
                            // borderColor:'#60AA13'
                        }
                    }
                },
                {
                    name:'白光',
                    smooth:true,
                    type: 'line',
                    data:[15,8,60],
                    symbol: 'circle', //折线点设置为实心点
                    symbolSize: 0, //折线点的大小
                    itemStyle:{
                        normal:{

                            label:{
                                show: false,//开启显示
                                formatter:'{c}%',
                                textStyle: {
                                    color:'rgba(0,0,0,0.85)',
                                    fontFamily: 'PingFangSC-Regular',
                                    fontSize: 10,

                                }
                            },
                            lineStyle:{
                                lineStyle: {
                                    width: 5,
                                    type: 'solid',  //'dotted'虚线 'solid'实线
                                    color: '#0091FF',


                                },
                            },

                        }
                    }
                },
                {
                    name:'荧光',
                    smooth:true,
                    type: 'line',
                    data:[20,20,50],
                    symbol: 'circle', //折线点设置为实心点
                    symbolSize: 0, //折线点的大小
                    itemStyle:{
                        normal:{

                            label:{
                                show: false,//开启显示
                                formatter:'{c}%',
                                textStyle: {
                                    color:'rgba(0,0,0,0.85)',
                                    fontFamily: 'PingFangSC-Regular',
                                    fontSize: 10,

                                }
                            },
                            lineStyle:{
                                lineStyle: {
                                    width: 5,
                                    type: 'solid',  //'dotted'虚线 'solid'实线
                                    color: '#FA6400',


                                },
                            },

                        }
                    }
                },
                {
                    name:'其他',
                    smooth:true,
                    type: 'line',
                    data:[6,20,9],
                    symbol: 'circle', //折线点设置为实心点
                    symbolSize: 0, //折线点的大小
                    itemStyle:{
                        normal:{

                            label:{
                                show: false,//开启显示
                                formatter:'{c}%',
                                textStyle: {
                                    color:'rgba(0,0,0,0.85)',
                                    fontFamily: 'PingFangSC-Regular',
                                    fontSize: 10,

                                }
                            },
                            lineStyle:{
                                lineStyle: {
                                    width: 5,
                                    type: 'solid',  //'dotted'虚线 'solid'实线
                                    color: '#8064A2',


                                },
                            },

                        }
                    }
                },
                ]
        };

        myChart.setOption(option,true);
        window.addEventListener("resize",function () {
            myChart.resize();
        });
        myChart.clear();
        myChart.setOption(option,true);
    }
</script>

</html>